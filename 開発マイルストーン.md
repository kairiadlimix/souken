# 図面チェックAIシステム 開発マイルストーン

## 概要
このドキュメントは、図面チェックAIシステムの開発を段階的に進めるためのマイルストーンを定義しています。特にOCR部分の研究的要素が高いため、リスクを最小化しながら段階的に実装を進める方針です。

---

## マイルストーン全体像

```
Phase 1: MVP（テキストベース）          [2-3ヶ月]
    ↓
Phase 2: OCR対応                        [2-3ヶ月]
    ↓
Phase 3: 高度な機能                     [6-8ヶ月]
    ↓
Phase 4: 最適化・改善                   [継続的]
```

---

## Phase 1: MVP（最小実用製品）
**期間**: 2-3ヶ月  
**実現可能性**: 高  
**リスク**: 低

### 目標
- CAD出力PDF（ベクター形式）のテキスト抽出とチェック
- 基本的な必須項目・創建特有項目のチェック
- 簡単なレポート出力

### 成果物
- [x] PDF解析モジュール（ベクターPDF対応）
- [x] 基本的なチェックエンジン
- [x] テキスト/JSON形式のレポート出力
- [ ] Web UI（基本的なアップロード・結果表示）
- [ ] チェック項目の拡充（チェックリストから抽出）

### マイルストーン

#### M1-1: 要件定義・設計完了（1週間）
- [ ] 詳細要件の確認
- [ ] チェックリストPDFから項目抽出
- [ ] システム設計の確定
- [ ] 技術スタックの選定

#### M1-2: コア機能実装完了（4-6週間）
- [ ] PDF解析機能の実装・テスト
- [ ] チェックエンジンの実装・テスト
- [ ] レポート生成機能の実装・テスト
- [ ] 単体テスト・結合テスト

#### M1-3: チェック項目の拡充（2-3週間）
- [ ] チェックリストPDFから項目抽出
- [ ] 実際の図面でテスト
- [ ] チェック項目の追加・調整
- [ ] 精度向上

#### M1-4: Web UI実装（2-3週間）
- [ ] 基本的なアップロード機能
- [ ] 結果表示機能
- [ ] レポートダウンロード機能
- [ ] UI/UXテスト

#### M1-5: テスト・リリース準備（1-2週間）
- [ ] 総合テスト
- [ ] ユーザー受け入れテスト
- [ ] ドキュメント整備
- [ ] リリース準備

### 成功基準
- [ ] CAD出力PDFのテキスト抽出が正常に動作
- [ ] 必須項目の検出率が90%以上
- [ ] 創建特有項目の検出率が80%以上
- [ ] 1件あたりの処理時間が30秒以内
- [ ] ユーザーが実際に使用可能な状態

### リスク
- **低リスク**: テキストベースのチェックは実績のある技術
- **対策**: 既存のライブラリを活用

---

## Phase 2: OCR対応
**期間**: 2-3ヶ月  
**実現可能性**: 中-高（OCR API使用の場合）  
**リスク**: 中（研究的要素が高い）

### 目標
- スキャン図面（ラスター形式）のOCR処理
- OCR結果の精度向上
- スキャン図面へのチェック対応

### 成果物
- [ ] OCR機能の実装（商用APIまたはオープンソース）
- [ ] 画像前処理機能
- [ ] OCR精度向上のための調整
- [ ] スキャン図面対応のチェック機能

### マイルストーン

#### M2-1: OCR技術の評価・選定（2週間）
- [ ] OCR技術の比較検討
  - [ ] オープンソース（Tesseract）の評価
  - [ ] 商用OCR API（Google Cloud Vision、AWS Textract等）の評価
  - [ ] コスト・精度・実装難易度の比較
- [ ] 実現可能性の評価
- [ ] 技術選定の決定

#### M2-2: OCR機能のプロトタイプ（2-3週間）
- [ ] 選定したOCR技術の実装
- [ ] サンプル図面でのテスト
- [ ] 精度評価
- [ ] 問題点の特定

#### M2-3: 画像前処理の実装（2-3週間）
- [ ] ノイズ除去
- [ ] コントラスト調整
- [ ] 傾き補正
- [ ] 文字領域の特定
- [ ] 精度向上の評価

#### M2-4: OCR結果の統合（2-3週間）
- [ ] OCR結果をチェックエンジンに統合
- [ ] 精度向上のための調整
- [ ] エラーハンドリング
- [ ] テスト

#### M2-5: テスト・改善（2-3週間）
- [ ] 実際のスキャン図面でのテスト
- [ ] 精度評価
- [ ] 問題点の修正
- [ ] ユーザー受け入れテスト

### 成功基準
- [ ] スキャン図面のテキスト抽出が正常に動作
- [ ] OCR精度が70%以上（高品質スキャンの場合）
- [ ] OCR精度が50%以上（中品質スキャンの場合）
- [ ] 1ページあたりのOCR処理時間が10秒以内
- [ ] ユーザーが実用的に使用可能な状態

### リスク
- **中リスク**: OCR精度が期待通りでない可能性
- **対策**: 
  - 商用OCR APIの利用を検討
  - 手動確認の併用
  - 段階的な精度向上

### OCR技術の選択肢と評価

#### 選択肢1: オープンソース（Tesseract）
- **実現可能性**: 中
- **コスト**: 無料
- **精度**: 中（日本語は弱い）
- **開発期間**: 2-3ヶ月
- **リスク**: 中（日本語図面は研究的要素が高い）

#### 選択肢2: 商用OCR API（Google Cloud Vision、AWS Textract等）
- **実現可能性**: 高
- **コスト**: 月額数万円〜（利用量による）
- **精度**: 高（日本語対応が良い）
- **開発期間**: 1-2ヶ月
- **リスク**: 低（ただしコスト要確認）

#### 選択肢3: 自社開発（機械学習モデル）
- **実現可能性**: 低
- **コスト**: 高（開発コスト）
- **精度**: 不明（学習データ次第）
- **開発期間**: 6-12ヶ月以上
- **リスク**: 高（研究的要素が非常に高い）

**推奨**: 選択肢2（商用OCR API）を検討。コストが許容できない場合は選択肢1を試し、必要に応じて選択肢2に移行。

---

## Phase 3: 高度な機能
**期間**: 6-8ヶ月  
**実現可能性**: 低-中  
**リスク**: 高（研究的要素が高い）

### 目標
- 図面要素認識（線、文字、記号）
- 施工上の問題チェック
- 図面間整合性チェック
- 機械学習による精度向上

### 成果物
- [ ] 図面要素認識機能
- [ ] 施工問題チェック機能
- [ ] 図面間整合性チェック機能
- [ ] 学習機能

### マイルストーン

#### M3-1: 図面要素認識の実装（3-4ヶ月）
- [ ] 図面要素認識技術の評価・選定
- [ ] プロトタイプの実装
- [ ] 精度評価・改善
- [ ] 本番実装

#### M3-2: 施工問題チェックの実装（2-3ヶ月）
- [ ] チェックロジックの設計
- [ ] 実装・テスト
- [ ] 精度評価・改善

#### M3-3: 図面間整合性チェックの実装（2-3ヶ月）
- [ ] 整合性チェックロジックの設計
- [ ] 実装・テスト
- [ ] 精度評価・改善

#### M3-4: 学習機能の実装（2-3ヶ月）
- [ ] 過去データの収集・整理
- [ ] 学習モデルの設計・実装
- [ ] 精度評価・改善

### 成功基準
- [ ] 図面要素認識の精度が70%以上
- [ ] 施工問題の検出率が60%以上
- [ ] 図面間整合性チェックが正常に動作
- [ ] 学習機能による精度向上が確認できる

### リスク
- **高リスク**: 研究的要素が高く、実現可能性が不確実
- **対策**: 
  - Phase 1, 2で十分な価値を提供
  - Phase 3はオプションとして位置づけ
  - 段階的な実装と評価

---

## Phase 4: 最適化・改善
**期間**: 継続的  
**実現可能性**: 高  
**リスク**: 低

### 目標
- パフォーマンス改善
- 精度向上
- UI/UX改善
- 新機能の追加

### 活動
- [ ] 処理速度の最適化
- [ ] チェック項目の追加・改善
- [ ] ユーザーフィードバックの反映
- [ ] 新技術の導入検討

---

## 全体スケジュール（推奨）

### 短期（3-6ヶ月）
- Phase 1: MVPの完成
- Phase 2: OCR対応の開始

### 中期（6-12ヶ月）
- Phase 2: OCR対応の完成
- Phase 3: 高度な機能の検討・開始

### 長期（12ヶ月以上）
- Phase 3: 高度な機能の実装
- Phase 4: 継続的な改善

---

## リスク管理

### 高リスク項目
1. **OCR精度が期待通りでない**
   - 対策: 商用OCR APIの利用、手動確認の併用
   - 代替案: 設計事務所にCAD出力PDFの提出を依頼

2. **図面要素認識の実現が困難**
   - 対策: Phase 3はオプションとして位置づけ
   - 代替案: テキストベースのチェックに集中

3. **開発期間・予算の超過**
   - 対策: 段階的な実装、優先順位の明確化
   - 代替案: 機能の縮小、外部委託の検討

### 中リスク項目
1. **チェック項目の精度が低い**
   - 対策: 実際の図面でテスト、ルールの改善
   - 代替案: 手動確認の併用

2. **ユーザーの受け入れが低い**
   - 対策: 早期のユーザーフィードバック、UI/UX改善
   - 代替案: 教育・トレーニングの実施

---

## 成功の定義

### Phase 1成功の定義
- [ ] CAD出力PDFのチェックが正常に動作
- [ ] チェック作業時間が50%以上削減
- [ ] チェック漏れが30%以上削減
- [ ] ユーザーが実用的に使用可能

### Phase 2成功の定義
- [ ] スキャン図面のチェックが正常に動作
- [ ] OCR精度が実用的なレベル（70%以上）
- [ ] チェック作業時間がさらに削減
- [ ] ユーザーが実用的に使用可能

### 全体成功の定義
- [ ] チェック作業時間が70%以上削減
- [ ] チェック漏れが50%以上削減
- [ ] ユーザー満足度が高い
- [ ] ROIが2倍以上

---

## 次のアクション

1. **実現可能性評価の実施**
   - 質問リストへの回答
   - 技術的評価
   - 予算・期間の見積もり

2. **Phase 1の詳細計画**
   - タスクの分解
   - リソースの確保
   - スケジュールの確定

3. **リスク対策の準備**
   - 代替案の検討
   - 段階的な実装計画
   - 評価基準の設定

